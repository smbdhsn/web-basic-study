https://juejin.cn/post/6844904165462769678

宏任务
微任务 直到队列为空
浏览器是否渲染页面
    主要和帧率有关 比如60hz 16.67ms一次渲染
    现代浏览器是很智能的 做了很多优化
    如果浏览器判断渲染后页面不变化 那么不会重新渲染
    如果requestAnimationFrame回调队列为空不会进行渲染
    如果进行渲染 做的事情如下：
        派发resize，scroll事件
        执行requestAnimationFrame回调
        执行IntersectionObserver回调
        渲染下一帧页面（渲染完成后，新的页面内容不会立即显示。它会等待下一个适当的显示器刷新周期（VSync）才会真正呈现在屏幕上。）
        如果空闲(没有宏任务和微任务) 执行idle空闲周期算法 reuqestIdleCallback的回调函数 如果紧急加上timeout参数


宏任务
script代码块
setTimeout
setInterval

微任务
promise
queueMicroTask
MutationObserver回调
