<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>赋值操作，只要是对象属性的赋值，都会触发原型链的查找</title>
  </head>
  <body>
    <script>
      "use strict";
      function Person(name, age) {
        this.name = name;
        this.age = age;
      }

      Object.defineProperty(Person.prototype, "count", {
        writable: false,
        enumerable: true,
        configurable: false,
        value: 10,
      });

      const p = new Person("me", 22);

      p.count = 1; // Cannot assign to read only property 'count' of object '#<Person>'

      // Object.defineProperty 不会触发原型链的查找 可以直接赋值
      Object.defineProperty(p, "count", {
        value: 1,
      });

      console.log(p);
    </script>

    <script>
      //   "use strict";
      //   function A() {}
      //   Object.defineProperty(A.prototype, "name", {
      //     value: 1,
      //     writable: false,
      //   });
      //   a = new A();
      //   a.name = "w";
      // Uncaught TypeError: Cannot assign to read only property 'name' of object '#<A>'
    </script>
  </body>
</html>
